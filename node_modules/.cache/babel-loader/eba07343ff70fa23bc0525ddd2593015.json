{"ast":null,"code":"var _jsxFileName = \"/Users/ishwarbaisla/Documents/GitHub/admin/src/components/util/section/Sections.js\";\nimport React from 'react';\nimport '../../css/Sections.css';\nimport Flash from '../../services/Flash';\nimport ConfirmationDialog from '../ConfirmationDialog';\nimport Request from '../../services/Request';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass Sections extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.deleteSection = () => {\n      let url = \"http://localhost:8080/QuizWit/DeleteSection?sectionId=\";\n      url += localStorage.getItem(\"SectionId\");\n      console.log(url);\n      Request.get(url).then(res => {\n        if (res.success) {\n          document.getElementById('confirmation-dialog').style.display = 'none';\n          Flash.message(res.success, 'bg-success');\n          console.log('delete');\n          this.fetchSections();\n        } else {\n          Flash.message(res.error, 'bg-danger');\n        }\n      });\n    };\n\n    this.state = {\n      sections: this.props.sections\n    };\n  }\n\n  closeDialog() {\n    document.getElementById('sections-dialog').style.display = 'none';\n    document.getElementById('route-overlay').style.display = 'none';\n  }\n\n  editSection(e) {\n    if (e.target.id) {\n      localStorage.setItem(\"SectionId\", e.target.id);\n      let a = document.createElement('a');\n      a.href = 'edit-section';\n      a.click();\n    }\n  }\n\n  showConfirmationDialog(e) {\n    if (e.target.id) {\n      localStorage.setItem(\"SectionId\", e.target.id);\n      document.getElementById('confirmation-dialog').style.display = 'block';\n    }\n  }\n\n  getSelectedExam() {\n    let exams = document.getElementsByName('examId');\n    let examNames = document.getElementsByClassName('exam-title-value');\n\n    for (let i = 0; i < exams.length; i++) {\n      if (exams[i].checked) return {\n        examId: exams[i].value,\n        examTitle: examNames[i].innerText\n      };\n    }\n\n    return null;\n  }\n\n  addSection() {\n    document.getElementById('add-section-btn').click();\n  }\n\n  fetchSections() {\n    let obj = this.getSelectedExam();\n\n    if (obj) {\n      document.getElementById('route-overlay').style.display = 'block';\n      let url = \"http://localhost:8080/QuizWit/ViewSections?examId=\";\n      url += obj.examId;\n      console.log(url);\n      Request.get(url).then(res => {\n        console.log(res);\n\n        if (res.success) {\n          let details = res.sectionDetails;\n\n          for (let i = 0; i < details.length; i++) details[i][\"serialNo\"] = i + 1;\n\n          this.setState({\n            sections: details\n          });\n          document.getElementById('route-overlay').style.display = 'none';\n\n          if (details.length == 0) {\n            Flash.message(\"Exam doesn't contain any section to show\", \"bg-primary\");\n            document.getElementById('route-overlay').style.display = 'none';\n            document.getElementById('sections-dialog').style.display = 'none';\n          } else {\n            document.getElementById('route-overlay').style.display = 'block';\n            document.getElementById('sections-dialog').style.display = 'flex';\n          }\n        }\n      });\n    } else {\n      // Flash.message('Select an exam', 'bg-secondary');\n      return false;\n    }\n  }\n\n  componentDidMount() {\n    this.fetchSections();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"sections-dialog\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex=-col flex-full jc-sb\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"exam-name-section-reference\",\n              children: [\" \", this.props.examTitle]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this), this.props.sections.length != 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"secondary mb-10\",\n                children: \"Sections\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"table-container\",\n                children: /*#__PURE__*/_jsxDEV(\"table\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                    children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"S No.\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 119,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Title\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 120,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Questions\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 121,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        className: \"text-left\",\n                        children: \"Section Timer\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 122,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Duration\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 123,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Question Navigation\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 124,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        children: \"Shuffle Questions\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 125,\n                        columnNumber: 49\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        style: {\n                          \"textAlign\": \"center\"\n                        },\n                        children: \"Action\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 126,\n                        columnNumber: 49\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 118,\n                      columnNumber: 45\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 117,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    children: this.state.sections.map((d, k) => {\n                      return /*#__PURE__*/_jsxDEV(_Fragment, {\n                        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                            children: d.serialNo\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 135,\n                            columnNumber: 65\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            children: d.title\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 136,\n                            columnNumber: 65\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            children: d.questions\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 137,\n                            columnNumber: 65\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            children: d.setSectionTimer == '1' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"success\",\n                              children: \"On\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 138,\n                              columnNumber: 97\n                            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"danger\",\n                              children: \"Off\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 138,\n                              columnNumber: 135\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 138,\n                            columnNumber: 65\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            children: d.timeDuration\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 139,\n                            columnNumber: 65\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            children: d.questionNavigation == '1' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"success\",\n                              children: \"On\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 140,\n                              columnNumber: 100\n                            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"danger\",\n                              children: \"Off\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 140,\n                              columnNumber: 138\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 140,\n                            columnNumber: 65\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            children: d.shuffleQuestions == '1' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"success\",\n                              children: \"On\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 141,\n                              columnNumber: 98\n                            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                              className: \"danger\",\n                              children: \"Off\"\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 141,\n                              columnNumber: 136\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 141,\n                            columnNumber: 65\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            children: /*#__PURE__*/_jsxDEV(\"div\", {\n                              className: \"action-btn-container\",\n                              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                                className: \"bg-primary\",\n                                id: d.sectionId,\n                                onClick: this.editSection,\n                                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                                  className: \"fas fa-pen\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 145,\n                                  columnNumber: 77\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 144,\n                                columnNumber: 73\n                              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                                className: \"bg-danger\",\n                                id: d.sectionId,\n                                onClick: this.showConfirmationDialog,\n                                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                                  className: \"fas fa-trash\"\n                                }, void 0, false, {\n                                  fileName: _jsxFileName,\n                                  lineNumber: 148,\n                                  columnNumber: 77\n                                }, this)\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 147,\n                                columnNumber: 73\n                              }, this)]\n                            }, void 0, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 143,\n                              columnNumber: 69\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 142,\n                            columnNumber: 65\n                          }, this)]\n                        }, k, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 134,\n                          columnNumber: 61\n                        }, this)\n                      }, void 0, false);\n                    })\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true) : '', this.state.sections.length == 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"danger\",\n              children: \"Exam doesn't contain any section\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 67\n            }, this) : '']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-row jc-sb\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-fade btn-small\",\n              onClick: this.closeDialog,\n              children: \"Close\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary btn-small\",\n              onClick: this.addSection,\n              children: \"Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(ConfirmationDialog, {\n        title: \"Are you sure?\",\n        message: \"Section will be permanently deleted.\",\n        type: \"\",\n        btn: \"Delete\",\n        btnClass: \"btn-danger\",\n        operation: this.deleteSection\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default Sections;","map":{"version":3,"sources":["/Users/ishwarbaisla/Documents/GitHub/admin/src/components/util/section/Sections.js"],"names":["React","Flash","ConfirmationDialog","Request","Sections","Component","constructor","props","deleteSection","url","localStorage","getItem","console","log","get","then","res","success","document","getElementById","style","display","message","fetchSections","error","state","sections","closeDialog","editSection","e","target","id","setItem","a","createElement","href","click","showConfirmationDialog","getSelectedExam","exams","getElementsByName","examNames","getElementsByClassName","i","length","checked","examId","value","examTitle","innerText","addSection","obj","details","sectionDetails","setState","componentDidMount","render","map","d","k","serialNo","title","questions","setSectionTimer","timeDuration","questionNavigation","shuffleQuestions","sectionId"],"mappings":"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","sourcesContent":["import React from 'react';\nimport '../../css/Sections.css';\nimport Flash from '../../services/Flash';\nimport ConfirmationDialog from '../ConfirmationDialog';\nimport Request from '../../services/Request';\n\nclass Sections extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            sections: this.props.sections\n        }\n    }\n    closeDialog() {\n        document.getElementById('sections-dialog').style.display = 'none';\n        document.getElementById('route-overlay').style.display = 'none';\n    }\n    editSection(e) {\n        if(e.target.id) {\n            localStorage.setItem(\"SectionId\", e.target.id);\n            let a = document.createElement('a');\n            a.href = 'edit-section';\n            a.click();\n        }\n    }\n    showConfirmationDialog(e) {\n        if(e.target.id) {\n            localStorage.setItem(\"SectionId\", e.target.id);\n            document.getElementById('confirmation-dialog').style.display = 'block';\n        }\n    }\n    getSelectedExam() {\n        let exams = document.getElementsByName('examId');\n        let examNames = document.getElementsByClassName('exam-title-value');\n        for(let i=0; i<exams.length; i++) {\n            if(exams[i].checked)\n                return {\n                    examId: exams[i].value,\n                    examTitle: examNames[i].innerText\n                }\n        }\n        return null;\n    }\n\n    addSection() {\n        document.getElementById('add-section-btn').click();\n    }\n\n    fetchSections() {\n        let obj = this.getSelectedExam();\n        if(obj) {\n            document.getElementById('route-overlay').style.display = 'block';\n            let url = \"http://localhost:8080/QuizWit/ViewSections?examId=\";\n            url += obj.examId;\n            console.log(url);\n            Request.get(url)\n            .then((res) => {\n                console.log(res);\n                if(res.success) {\n                    let details = res.sectionDetails;\n                    for(let i=0; i<details.length; i++)\n                        details[i][\"serialNo\"] = i+1;\n                    this.setState({\n                        sections: details\n                    })\n                    document.getElementById('route-overlay').style.display = 'none';\n                    if(details.length == 0) {\n                        Flash.message(\"Exam doesn't contain any section to show\", \"bg-primary\");\n                        document.getElementById('route-overlay').style.display = 'none';\n                        document.getElementById('sections-dialog').style.display = 'none';\n                    }\n                    else {\n                        document.getElementById('route-overlay').style.display = 'block';\n                        document.getElementById('sections-dialog').style.display = 'flex';\n                    }\n                }\n            })\n        }\n        else {\n            // Flash.message('Select an exam', 'bg-secondary');\n            return false;\n        }\n    }\n    deleteSection = () => {\n        let url = \"http://localhost:8080/QuizWit/DeleteSection?sectionId=\";\n        url += localStorage.getItem(\"SectionId\");\n        console.log(url);\n        Request.get(url)\n        .then((res) => {\n            if(res.success) {\n                document.getElementById('confirmation-dialog').style.display = 'none';\n                Flash.message(res.success, 'bg-success');\n                console.log('delete');\n                this.fetchSections();\n            }\n            else {\n                Flash.message(res.error, 'bg-danger');\n            }\n        })\n    }\n    componentDidMount() {\n        this.fetchSections();\n    }\n    render() {\n        return (\n            <>\n                <div id='sections-dialog'>\n                    <div>\n                        <div className='flex=-col flex-full jc-sb'>\n                            <div id='exam-name-section-reference'> {this.props.examTitle}</div>\n                            {\n                                this.props.sections.length != 0 ? \n                                <>\n                                    <h3 className='secondary mb-10'>Sections</h3>\n                                    <div className=\"table-container\">\n                                        <table>\n                                        <thead>\n                                            <tr>\n                                                <th>S No.</th>\n                                                <th>Title</th>\n                                                <th>Questions</th>\n                                                <th className='text-left'>Section Timer</th>\n                                                <th>Duration</th>\n                                                <th>Question Navigation</th>\n                                                <th>Shuffle Questions</th>\n                                                <th style={{\"textAlign\":\"center\"}}>Action</th>\n                                            </tr>\n                                        </thead>\n                                        <tbody>\n                                            {\n                                                this.state.sections.map((d, k) => {\n                                                    return (\n                                                        <>\n                                                            <tr key={k}>\n                                                                <td>{d.serialNo}</td>\n                                                                <td>{d.title}</td>\n                                                                <td>{d.questions}</td>\n                                                                <td>{d.setSectionTimer == '1' ? <span className='success'>On</span> : <span className='danger'>Off</span>}</td>\n                                                                <td>{d.timeDuration}</td>\n                                                                <td>{d.questionNavigation == '1' ? <span className='success'>On</span> : <span className='danger'>Off</span>}</td>\n                                                                <td>{d.shuffleQuestions == '1' ? <span className='success'>On</span> : <span className='danger'>Off</span>}</td>\n                                                                <td>\n                                                                    <div className='action-btn-container'>\n                                                                        <button className='bg-primary' id={d.sectionId} onClick={this.editSection}>\n                                                                            <i className='fas fa-pen'></i>\n                                                                        </button>\n                                                                        <button className='bg-danger' id={d.sectionId} onClick={this.showConfirmationDialog}>\n                                                                            <i className='fas fa-trash'></i>\n                                                                        </button>\n                                                                    </div>\n                                                                </td>\n                                                            </tr>\n                                                        </>\n                                                    )\n                                                })\n                                            }\n                                        </tbody>\n                                        </table>\n                                    </div>\n                                </>\n                                : ''\n                            }\n                            {\n                                this.state.sections.length == 0 ? <div className='danger'>Exam doesn't contain any section</div> : ''\n                            }\n                        </div>\n                        <div className='flex-row jc-sb'>\n                            <button className='btn btn-fade btn-small' onClick={this.closeDialog}>Close</button>\n                            <button className='btn btn-primary btn-small' onClick={this.addSection}>Add</button>\n                        </div>\n                    </div>\n                </div>\n                <ConfirmationDialog \n                    title='Are you sure?'\n                    message='Section will be permanently deleted.' \n                    type='' \n                    btn='Delete'\n                    btnClass='btn-danger'\n                    operation={this.deleteSection}/>\n            </>\n        );\n    }\n}\n\nexport default Sections;"]},"metadata":{},"sourceType":"module"}